file(STRINGS "${PROJECT_SOURCE_DIR}/CHANGELOG.md" CHANGELOG_LINES REGEX "^# \\[([0-9]+)\\.([0-9]+)\\.([0-9]+)\\]")
string(REGEX MATCH "^# \\[([0-9]+)\\.([0-9]+)\\.([0-9]+)\\]" VERSION_STRING "${CHANGELOG_LINES}")
set(LIBRARY_VERSION_MAJOR "${CMAKE_MATCH_1}" CACHE INTERNAL "")
set(LIBRARY_VERSION_MINOR "${CMAKE_MATCH_2}" CACHE INTERNAL "")
set(LIBRARY_VERSION_PATCH "${CMAKE_MATCH_3}" CACHE INTERNAL "")
set(LIBRARY_VERSION "${LIBRARY_VERSION_MAJOR}.${LIBRARY_VERSION_MINOR}.${LIBRARY_VERSION_PATCH}")
if(NOT LIBRARY_VERSION MATCHES "^[0-9]\\.[0-9]\\.[0-9]$")
    message(FATAL_ERROR "Invalid project version: ${LIBRARY_VERSION}")
endif()